{% extends 'noter/base.html' %}
{% block title %}Home{% endblock %}
{% block css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'noter/css/home.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
{% endblock %}
{% block content %}
    <!-- {% if messages %}
        {% for message in messages %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert" style="display: flex; justify-content: center; width: 100%;" id="auto-close-alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endif %} -->
    <!-- Assalomu alaykum Home
    <form method="post" action="{% url 'noter:create-list' %}">
        {% csrf_token %}
        <input type="text" name="list_name">
        <input type="text" name="list_color">
        <input type="submit" value="Create List" onchange="this.form.submit()">
    </form>
    {% for list in lists %}
        <p><a href="{% url 'noter:lists' list.id %}">{{list.name}}</a></p>
    {% endfor %}
    <script> -->
    <!-- setTimeout(()=>{
        const alert = document.getElementById('auto-close-alert')
        if(alert){
            $(alert).alert('close');
        }
    }, 2000);
    </script> -->





    <div class="main">
        <button onclick="toggle()" class="button" style="border:none; background-color: transparent;">
            <i class="ri-menu-line"></i>
        </button>
        <div class="menu">
            <div class="menu_header">
                <div class="menu_header_header">
                    <h1><b>Menu</b></h1>
                    <button onclick="toggle()" style="border:none; background-color: transparent;">
                        <i class="ri-menu-line"></i>
                    </button>
                </div>
                <div class="menu_header_header_input">
                    <input type="search" class="form-control" placeholder="Search..." aria-label="Search">
                </div>
            </div>
            <div class="menu_tasks">
                <div class="menu_tasks_header">
                    <b>Tasks</b>
                </div>
                <div class="menu_tasks_buttons">
                    <a class="task_button">
                        <i class="ri-arrow-right-double-line task_button_text"></i>
                        <div class="task_button_text">Upcoming</div>
                        <div class="task_button_number_parent">
                            <div class="task_button_number">12</div>
                        </div>
                    </a>

                    <a class="task_button ticked">
                        <i class="ri-check-double-line task_button_text"></i>
                        <div class="task_button_text">Today</div>
                        <div class="task_button_number_parent">
                            <div class="task_button_number">12</div>
                        </div>
                    </a>

                    <a class="task_button">
                        <i class="ri-calendar-2-line task_button_text"></i>
                        <div class="task_button_text">Calendar</div>
                        <div class="task_button_number_parent">
                            <div class="task_button_number">12</div>
                        </div>
                    </a>

                    <a class="task_button">
                        <i class="ri-file-list-2-line task_button_text"></i>
                        <div class="task_button_text">Sticky Wall</div>
                        <div class="task_button_number_parent">
                            <div class="task_button_number">12</div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="menu_lists">
                <div class="menu_tasks_header">
                    <b>Lists</b>
                </div>
                <div class="menu_tasks_buttons">
                    {% for list in lists %}
                        <a class="menu_list_button" href="{% url 'noter:lists' list.id %}">
                            <div class="i"></div>
                            <div class="list_href_text">{{list.name}}</div>
                        </a>
                    {% endfor %}
                    <button class="menu_list_button" onclick="add_list_div()">
                        <i class="ri-add-line" style="margin: 1vh 1vh;"></i>
                        <div class="menu_list_button_text">Add List</div>
                    </button>
                </div>
            </div>
            <div class="menu_footer"></div>

        </div>
        <div class="list"></div>
        <div class="properties"></div>

        <div class="add_list_toggle">
            <form method="post" action="{% url 'noter:create-list' %}">
                {% csrf_token %}
                <input type="text" name="list_name">
                <input type="text" name="list_color">
                <input type="submit" value="Create List" onchange="this.form.submit()">
                <select id="selectOption" name="selectOption">
                    <option value="" disabled selected>Select an option</option>
                    <option value="option1" selected>Option 1<i class="ri-add-line"></i></option>
                    <option value="option2">Option 2</option>
                    <option value="option3">Option 3</option>
                  </select>
            </form>
        </div>
        <div class="add_list_toggle_back" onclick="add_list_div()">
                        
        </div>
    </div>
    <script>
        // function toggle(){
        //     const menu = document.querySelector('.menu')
        //     const button = document.querySelector('.button')
        //     if (menu.style.width == '0'){
        //         button.style.display = 'width'
        //         menu.style.width = '22%'
        //     }
        //     if(menu.style.width == '22%'){
        //         button.style.display = 'block'
        //         menu.style.width = '0'
        //     }
        // };
        function toggle() {
            const menu = document.querySelector('.menu');
            const button = document.querySelector('.button');

            if (menu.style.marginLeft === '0px' || menu.style.marginLeft === '') {
                button.style.opacity = '100%';
                button.style.visibility = 'visible';
                menu.style.marginLeft = '-500px';
                button.style.marginLeft = '1vh';
            }
            else {
                button.style.opacity = '0%';
                button.style.marginLeft = '-3vh';
                button.style.visibility = 'hidden';
                menu.style.marginLeft = '0px';
            }
        }
        function add_list_div() {
            const menu = document.querySelector('.add_list_toggle');
            const button = document.querySelector('.add_list_toggle_back');

            if (menu.style.display === 'none') {
                button.style.display = 'block';
                menu.style.display = 'block';
            }
            else {
                button.style.display = 'none';
                menu.style.display = 'none';
            }
        }

    </script>
{% endblock %}